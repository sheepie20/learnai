<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LearnAI - Your Personal Learning Assistant</title>

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="/static/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
<link rel="icon" type="image/png" sizes="96x96" href="/static/favicon-96x96.png">
<link rel="apple-touch-icon" href="/static/apple-touch-icon.png">

<!-- Web App Manifest -->
<link rel="manifest" href="/static/site.webmanifest">
<meta name="theme-color" content="#667eea">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    overflow-x: hidden;
    background: linear-gradient(135deg, #2880B9 0%, #1B5A8C 100%);
    min-height: 100vh;
    position: relative;
}

/* Animated Background */
.animated-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: linear-gradient(135deg, #2880B9 0%, #1B5A8C 100%);
}

.bg-shapes {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.shape {
    position: absolute;
    background: rgba(255, 255, 255, 0.12);
    border-radius: 50%;
    animation: float 20s infinite ease-in-out;
}

.shape:nth-child(1) {
    width: 300px;
    height: 300px;
    top: -150px;
    left: -150px;
    animation-delay: 0s;
}

.shape:nth-child(2) {
    width: 200px;
    height: 200px;
    top: 50%;
    right: -100px;
    animation-delay: -7s;
}

.shape:nth-child(3) {
    width: 250px;
    height: 250px;
    bottom: -125px;
    left: 20%;
    animation-delay: -14s;
}

@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    25% { transform: translateY(-100px) rotate(90deg); }
    50% { transform: translateY(-200px) rotate(180deg); }
    75% { transform: translateY(-100px) rotate(270deg); }
}

/* Glassmorphism Container */
.container {
    max-width: 1200px;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 25px;
    padding: 60px 40px;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
    position: relative;
    margin-top: 20px;
    margin-bottom: 20px;
    animation: slideUp 1s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Header Animations */
.header {
    text-align: center;
    margin-bottom: 60px;
    position: relative;
}

.logo {
    font-size: 4em;
    font-weight: 900;
    margin-bottom: 20px;
    background: linear-gradient(45deg, #ffffff, #E8F4FD);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 0 30px rgba(40, 128, 185, 0.5);
    animation: glow 2s ease-in-out infinite alternate;
    position: relative;
}

.logo::after {
    content: '';
    position: absolute;
    top: 0;
    left: -10%;
    width: 120%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(232, 244, 253, 0.4), transparent);
    animation: shine 3s infinite;
}

@keyframes glow {
    from { text-shadow: 0 0 30px rgba(40, 128, 185, 0.5); }
    to { text-shadow: 0 0 40px rgba(40, 128, 185, 0.8), 0 0 60px rgba(40, 128, 185, 0.4); }
}

@keyframes shine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.tagline {
    font-size: 1.4em;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 40px;
    animation: fadeInUp 1s 0.5s both;
    font-weight: 300;
    letter-spacing: 0.5px;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.nav-buttons {
    margin-top: 20px;
    animation: fadeInUp 1s 0.7s both;
}

/* Feature Cards with Advanced Animations */
.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 40px;
    margin-bottom: 60px;
}

.feature-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    padding: 40px 30px;
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    animation: fadeInUp 1s both;
    cursor: pointer;
}

.feature-card:nth-child(1) { animation-delay: 0.8s; }
.feature-card:nth-child(2) { animation-delay: 1s; }
.feature-card:nth-child(3) { animation-delay: 1.2s; }

.feature-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s;
}

.feature-card:hover::before {
    left: 100%;
}

.feature-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
    background: rgba(255, 255, 255, 0.2);
}

.feature-card h3 {
    color: white;
    margin-bottom: 15px;
    font-size: 1.5em;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 15px;
}

.feature-card h3::before {
    content: attr(data-icon);
    font-size: 2em;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

.feature-card p {
    color: rgba(255, 255, 255, 0.8);
    margin: 0;
    line-height: 1.6;
}

/* Interactive Input Section */
.input-section {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    padding: 50px;
    border-radius: 25px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    animation: fadeInUp 1s 1.4s both;
    position: relative;
    overflow: hidden;
}

.input-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #2880B9, #1B5A8C, #2880B9);
    background-size: 200% 100%;
    animation: gradientShift 3s ease infinite;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Advanced Tab System */
.tabs {
    display: flex;
    margin-bottom: 30px;
    background: rgba(40, 128, 185, 0.12);
    border-radius: 15px;
    padding: 8px;
    position: relative;
}

.tab {
    flex: 1;
    padding: 15px 20px;
    cursor: pointer;
    border: none;
    background: none;
    font-size: 16px;
    color: #666;
    transition: all 0.3s ease;
    border-radius: 10px;
    position: relative;
    font-weight: 500;
}

.tab.active {
    color: white;
    background: linear-gradient(135deg, #2880B9, #1B5A8C);
    box-shadow: 0 10px 20px rgba(40, 128, 185, 0.35);
    transform: translateY(-2px);
}

.tab:not(.active):hover {
    color: #2880B9;
    background: rgba(40, 128, 185, 0.15);
}

.tab-content {
    display: none;
    padding: 30px 0;
    animation: fadeIn 0.3s ease;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.tab-content h3 {
    color: #2c3e50;
    margin-bottom: 15px;
    font-size: 1.5em;
    font-weight: 600;
}

.tab-content p {
    color: #666;
    margin-bottom: 25px;
    font-size: 1.1em;
}

/* Enhanced Form Elements */
textarea, input[type="text"] {
    width: 100%;
    padding: 20px;
    border: 2px solid #e1e8ed;
    border-radius: 15px;
    font-size: 16px;
    margin-bottom: 25px;
    box-sizing: border-box;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(5px);
}

textarea {
    min-height: 200px;
    resize: vertical;
}

textarea:focus, input[type="text"]:focus {
    outline: none;
    border-color: #2880B9;
    box-shadow: 0 0 0 4px rgba(40, 128, 185, 0.15);
    transform: translateY(-2px);
    background: white;
}

/* Stunning Button Design */
button {
    background: linear-gradient(135deg, #2880B9 0%, #1B5A8C 100%);
    color: white;
    padding: 18px 40px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    font-size: 18px;
    font-weight: 600;
    transition: all 0.3s ease;
    display: block;
    margin: 20px auto;
    position: relative;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(40, 128, 185, 0.4);
}

button:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(40, 128, 185, 0.6);
}

button:active {
    transform: translateY(-1px);
}

button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(232, 244, 253, 0.3), transparent);
    transition: left 0.5s;
}

button:hover::before {
    left: 100%;
}

.nav-buttons button {
    background: rgba(27, 90, 140, 0.9);
    backdrop-filter: blur(10px);
    margin-bottom: 20px;
    border: 1px solid rgba(232, 244, 253, 0.25);
}

.nav-buttons button:hover {
    background: rgba(27, 90, 140, 1);
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(27, 90, 140, 0.4);
}

/* Loading Animation */
.loading {
    display: none;
    text-align: center;
    margin-top: 30px;
    color: #2880B9;
    font-size: 18px;
    font-weight: 500;
}

.loading::after {
    content: '';
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid #2880B9;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s ease-in-out infinite;
    margin-left: 10px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Error and Success States */
.error {
    color: #e74c3c;
    text-align: center;
    margin-top: 20px;
    display: none;
    padding: 15px;
    border-radius: 15px;
    background: rgba(231, 76, 60, 0.1);
    border: 1px solid rgba(231, 76, 60, 0.2);
    animation: shake 0.5s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.success {
    background: linear-gradient(135deg, rgba(46, 204, 113, 0.1), rgba(39, 174, 96, 0.1));
    border: 1px solid rgba(46, 204, 113, 0.3);
    border-radius: 20px;
    margin-top: 30px;
    text-align: center;
    display: none;
    padding: 40px;
    backdrop-filter: blur(10px);
    animation: successPulse 0.6s ease-out;
}

@keyframes successPulse {
    0% { transform: scale(0.9); opacity: 0; }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); opacity: 1; }
}

.success h3 {
    color: #27ae60;
    margin-bottom: 20px;
    font-size: 1.8em;
}

.success ul {
    list-style: none;
    padding: 0;
    margin: 25px 0;
}

.success li {
    color: #2c3e50;
    margin: 10px 0;
    font-size: 1.1em;
}

/* Responsive Design */
@media (max-width: 768px) {
    .container {
        margin: 10px;
        padding: 40px 20px;
    }
    
    .logo {
        font-size: 3em;
    }
    
    .features {
        grid-template-columns: 1fr;
        gap: 30px;
    }
    
    .input-section {
        padding: 30px 20px;
    }
    
    .tabs {
        flex-direction: column;
        gap: 5px;
    }
}

/* Floating Action Elements */
.floating-elements {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
}

.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 50%;
    animation: floatParticle 15s infinite linear;
}

@keyframes floatParticle {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
    }
}
</style>
</head>
<body>
<!-- Animated Background -->
<div class="animated-bg">
<div class="bg-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
</div>
</div>

<!-- Floating Particles -->
<div class="floating-elements" id="particles"></div>

<div class="container">
<div class="header">
    <div class="logo">LearnAI</div>
    <div class="tagline">Transform any content into an interactive learning experience</div>
    <div class="nav-buttons">
        <button onclick="navigateToDashboards()">
            📚 My Dashboards
        </button>
    </div>
</div>

<div class="features">
    <div class="feature-card">
        <h3 data-icon="📝">Smart Notes</h3>
        <p>Our AI analyzes your content and generates comprehensive, well-structured study notes that highlight key concepts and important details.</p>
    </div>
    <div class="feature-card">
        <h3 data-icon="✍️">Interactive Quizzes</h3>
        <p>Automatically generated personalized quizzes help reinforce your learning and identify areas that need more focus.</p>
    </div>
    <div class="feature-card">
        <h3 data-icon="📊">Progress Tracking</h3>
        <p>Track your learning journey with detailed analytics, performance metrics, and progress indicators.</p>
    </div>
</div>

<div class="input-section" id="input-section">
    <div class="tabs">
        <button class="tab" onclick="showTab('text')">Text Input</button>
        <button class="tab active" onclick="showTab('youtube')">YouTube Video</button>
    </div>

    <div id="textTab" class="tab-content">
        <h3>Enter your learning material</h3>
        <p>Paste any text, article, or notes you want to learn from:</p>
        <textarea id="notesInput" placeholder="Paste your content here..."></textarea>
    </div>

    <div id="youtubeTab" class="tab-content active">
        <h3>Learn from YouTube</h3>
        <p>Enter a YouTube video URL to generate study materials:</p>
        <input type="text" id="youtubeInput" placeholder="https://www.youtube.com/watch?v=...">
    </div>

    <button onclick="generateQuiz()">Create Learning Materials</button>
    <div id="loading" class="loading">Crafting your personalized learning experience</div>
    <div id="error" class="error"></div>
    <div id="success" class="success"></div>
</div>
</div>

<script>
// Create floating particles
function createParticles() {
    const particlesContainer = document.getElementById('particles');
    const particleCount = 20;
    
    for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 15 + 's';
        particle.style.animationDuration = (15 + Math.random() * 10) + 's';
        particlesContainer.appendChild(particle);
    }
}

// Initialize particles on load
document.addEventListener('DOMContentLoaded', createParticles);

// Token management
const TokenManager = {
    setTokens(tokens) {
        console.log('Storing tokens:', tokens);
        localStorage.setItem('access_token', tokens.access_token);
        localStorage.setItem('refresh_token', tokens.refresh_token);
        localStorage.setItem('token_expiry', Date.now() + (tokens.expires_in * 1000));
        console.log('Token expiry set to:', new Date(Date.now() + (tokens.expires_in * 1000)));
    },

    clearTokens() {
        localStorage.removeItem('access_token');
        localStorage.removeItem('refresh_token');
        localStorage.removeItem('token_expiry');
    },

    async refreshTokens() {
        const refreshToken = localStorage.getItem('refresh_token');
        if (!refreshToken) {
            this.clearTokens();
            window.location.href = '/login';
            throw new Error('No refresh token available');
        }

        const response = await fetch('/refresh', {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${refreshToken}`
            }
        });

        if (!response.ok) {
            this.clearTokens();
            window.location.href = '/login';
            throw new Error('Failed to refresh token');
        }

        const tokens = await response.json();
        this.setTokens(tokens);
        return tokens.access_token;
    },

    async getValidToken() {
        const expiry = localStorage.getItem('token_expiry');
        const accessToken = localStorage.getItem('access_token');

        if (!expiry || !accessToken) {
            this.clearTokens();
            window.location.href = '/login';
            throw new Error('No token available');
        }

        const now = Date.now();
        const expiryInt = parseInt(expiry);
        console.log('[TokenManager] Now:', now, 'Expiry:', expiryInt, 'Delta (ms):', expiryInt - now);

        // If token is expired or will expire in < 1 minute, refresh
        if (now > expiryInt - 60000) {
            return await this.refreshTokens();
        }
        if (now > expiryInt) {
            // Already expired, force refresh
            return await this.refreshTokens();
        }

        return accessToken;
    }
};

function showTab(tabName) {
    const tabs = document.querySelectorAll('.tab');
    const contents = document.querySelectorAll('.tab-content');
    
    tabs.forEach(tab => {
        if (tab.textContent.toLowerCase().includes(tabName)) {
            tab.classList.add('active');
        } else {
            tab.classList.remove('active');
        }
    });
    
    contents.forEach(content => {
        if (content.id === tabName + 'Tab') {
            content.classList.add('active');
        } else {
            content.classList.remove('active');
        }
    });
}

async function generateQuiz() {
    const loading = document.getElementById('loading');
    const error = document.getElementById('error');
    const success = document.getElementById('success');
    
    loading.style.display = 'block';
    error.style.display = 'none';
    success.style.display = 'none';

    try {
        // Check if user is authenticated
        try {
            await TokenManager.getValidToken();
        } catch (e) {
            // Not authenticated, redirect to login
            window.location.href = '/register';
            return;
        }

        const activeTab = document.querySelector('.tab-content.active').id;
        const requestBody = {};

        if (activeTab === 'textTab') {
            const notes = document.getElementById('notesInput').value.trim();
            if (!notes) {
                throw new Error('Please enter some text to generate a quiz.');
            }
            requestBody.text = notes;
        } else {
            const youtubeUrl = document.getElementById('youtubeInput').value.trim();
            if (!youtubeUrl) {
                throw new Error('Please enter a YouTube URL.');
            }
            requestBody.youtube_url = youtubeUrl;
        }

        // First generate notes if needed
        let notes;
        let notesData;
        const token = await TokenManager.getValidToken();
        console.log('Token used for /generate-notes:', token);
        const notesResponse = await fetch('/generate-notes', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
            },
            body: JSON.stringify(requestBody)
        });
        
        if (!notesResponse.ok) {
            throw new Error('Failed to process input. Please try again.');
        }
        
        notesData = await notesResponse.json();
        notes = notesData.notes;

        // Generate quiz from notes
        const quizToken = await TokenManager.getValidToken();
        console.log('Token used for /generate-quiz:', quizToken);
        const quizResponse = await fetch('/generate-quiz', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${quizToken}`
            },
            body: JSON.stringify({ notes: notes })
        });

        if (!quizResponse.ok) {
            throw new Error('Failed to generate quiz. Please try again.');
        }

        const quizData = await quizResponse.json();
        console.log('Quiz data received:', quizData);
        
        // Get the current access token for dashboard
        const dashboardToken = await TokenManager.getValidToken();
        
        // Make sure we have a valid quiz_id
        if (!quizData.quiz_id) {
            console.error('Error: quiz_id is undefined in the response');
            throw new Error('Failed to get quiz ID from server response');
        }
        
        // Create dashboard URL with the quiz_id
        const dashboardUrl = `${window.location.origin}/dashboard/${quizData.quiz_id}`;
        console.log('Dashboard URL:', dashboardUrl);
        
        // Store the token in sessionStorage for the dashboard page
        sessionStorage.setItem('dashboard_token', dashboardToken);
        
        success.innerHTML = `
            <div style="text-align: center; padding: 20px;">
                <h3 style="color: #27ae60; margin-bottom: 15px;">Your LearnAI Dashboard is Ready!</h3>
                <p style="color: #666; margin-bottom: 20px;">
                    We've generated personalized quiz questions and detailed notes based on your content.
                    Access your interactive learning dashboard to:
                </p>
                <ul style="list-style: none; padding: 0; margin-bottom: 20px; color: #666;">
                    <li>📝 Review your generated notes</li>
                    <li>✍️ Take personalized quizzes</li>
                    <li>📊 Track your learning progress</li>
                </ul>
                <button onclick="goToDashboard('${dashboardUrl}')" 
                        style="background: linear-gradient(135deg, #27ae60, #2ecc71); 
                               color: white; 
                               padding: 15px 30px; 
                               border: none; 
                               border-radius: 50px; 
                               font-size: 16px; 
                               font-weight: 600;
                               cursor: pointer;
                               transition: all 0.3s ease;
                               box-shadow: 0 10px 20px rgba(39, 174, 96, 0.3);">
                    Go to Dashboard
                </button>
            </div>
        `;
        success.style.display = 'block';
    } catch (err) {
        error.textContent = err.message || 'An error occurred. Please try again.';
        error.style.display = 'block';
    } finally {
        loading.style.display = 'none';
    }
}

// Function to navigate to dashboard with token
function goToDashboard(url) {
    // Get the token from sessionStorage
    const token = sessionStorage.getItem('dashboard_token');
    
    // Create a form to submit the token with the request
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = url;
    form.style.display = 'none';
    
    // Add token as a hidden field
    const tokenField = document.createElement('input');
    tokenField.type = 'hidden';
    tokenField.name = 'token';
    tokenField.value = token;
    form.appendChild(tokenField);
    
    // Submit the form
    document.body.appendChild(form);
    form.submit();
}

// Function to navigate to dashboards page with token authentication
function navigateToDashboards() {
    // Try to get token from localStorage first
    let token = localStorage.getItem('access_token');
    
    // If no token in localStorage, try sessionStorage
    if (!token) {
        token = sessionStorage.getItem('dashboard_token');
    }
    
    // If still no token, redirect to login
    if (!token) {
        window.location.href = '/register';
        return;
    }
    
    // Create a form to submit the token with the request
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = '/dashboards';
    form.style.display = 'none';
    
    // Add token as a hidden field
    const tokenField = document.createElement('input');
    tokenField.type = 'hidden';
    tokenField.name = 'token';
    tokenField.value = token;
    form.appendChild(tokenField);
    
    // Submit the form
    document.body.appendChild(form);
    form.submit();
}

// Add interactive hover effects for feature cards
document.addEventListener('DOMContentLoaded', function() {
    const featureCards = document.querySelectorAll('.feature-card');
    
    featureCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });

    // Add typing effect to tagline
    const tagline = document.querySelector('.tagline');
    const originalText = tagline.textContent;
    tagline.textContent = '';
    
    let i = 0;
    function typeWriter() {
        if (i < originalText.length) {
            tagline.textContent += originalText.charAt(i);
            i++;
            setTimeout(typeWriter, 50);
        }
    }
    
    setTimeout(typeWriter, 1000);

    // Add pulse effect to main button on hover
    const mainButton = document.querySelector('button[onclick="generateQuiz()"]');
    if (mainButton) {
        mainButton.addEventListener('mouseenter', function() {
            this.style.animation = 'pulse 0.5s ease-in-out';
        });
        
        mainButton.addEventListener('animationend', function() {
            this.style.animation = '';
        });
    }
});

// Add pulse keyframe animation
const style = document.createElement('style');
style.textContent = `
    @keyframes pulse {
        0% { transform: translateY(-3px) scale(1); }
        50% { transform: translateY(-3px) scale(1.05); }
        100% { transform: translateY(-3px) scale(1); }
    }
`;
document.head.appendChild(style);
</script>
</body>
</html>